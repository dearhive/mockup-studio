/**
 * @preserve Copyright 2016, Deepak Ghimire.  All rights reserved.
 */
"use strict";var deip=deip||{};deip.isDevelopment=window.location.href.indexOf("localhost/deip")>-1;deip.isOnlineDemo=window.location.href.indexOf("mockup.deipgroup.com")>-1;deip.isChrome=window.chrome!==void 0;deip.isApp=deip.isChrome?window.chrome.app.runtime!==void 0:false;deip.isExtension=deip.isChrome?window.chrome.browserAction!==void 0:false;deip.actionType=deip.isApp?"App-":deip.isExtension?"Ext-":"Web-";deip.send=function(){};deip.sendEvent=function(e,i,t){if(deip.isApp){if(tracker!==void 0)tracker.sendEvent(e,i,t)}else{if(window.ga!==void 0)window.ga("send","event",e,i,t)}};var service,tracker,out;function initAnalyticsConfig(e){e.setTrackingPermitted(true)}function startApp(){service=analytics.getService("MOCKUP");service.getConfig().addCallback(initAnalyticsConfig);tracker=service.getTracker("UA-40859319-2");tracker.sendAppView("Editor")}if(!Detector.webgl){if(deip.isApp){swal({title:"WebGL Context Lost!",text:"The WebGL had crashed and not reloaded properly. You'll need to restart the application.. and maybe Google Chrome too..",type:"warning",showCancelButton:true,confirmButtonColor:"#DD6B55",confirmButtonText:"Close App",closeOnConfirm:true},function(e){if(e){window.close()}})}else{$("#webgl_notice").css("display","block")}}if(!deip.isChrome)$("#chrome_notice").css("display","block");if(deip.isApp){var appAnalytics=document.createElement("script");appAnalytics.type="text/javascript";appAnalytics.src="js/libs/google-analytics-bundle.js";appAnalytics.async=1;var referenceNode=document.getElementsByTagName("script")[0];referenceNode.parentNode.insertBefore(appAnalytics,referenceNode)}else if(deip.isExtension){(function(e,i,t,n,o,a,s){e["GoogleAnalyticsObject"]=o;e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date;a=i.createElement(t),s=i.getElementsByTagName(t)[0];a.async=1;a.src=n;s.parentNode.insertBefore(a,s)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create","UA-40859319-2","auto");ga("set","checkProtocolTask",function(){});ga("require","displayfeatures");ga("send","pageview","/index.html");(function(e,i,t){var n,o=e.getElementsByTagName(i)[0];if(e.getElementById(t))return;n=e.createElement(i);n.id=t;n.src="https://apis.google.com/js/api.js?onload=onApiLoad";o.parentNode.insertBefore(n,o)})(document,"script","google-api")}else{if(!deip.isDevelopment){(function(e,i,t,n,o,a,s){e["GoogleAnalyticsObject"]=o;e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=new Date;a=i.createElement(t),s=i.getElementsByTagName(t)[0];a.async=1;a.src=n;s.parentNode.insertBefore(a,s)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-40859319-2","auto");ga("send","pageview")}(function(e,i,t){var n,o=e.getElementsByTagName(i)[0];if(e.getElementById(t))return;n=e.createElement(i);n.id=t;n.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";o.parentNode.insertBefore(n,o)})(document,"script","facebook-jssdk")}function onApiLoad(){if(deip.isFull==true){gapi.load("auth",{callback:function(){}});gapi.load("picker");gapi.load("client",{callback:function(){gapi.client.load("drive","v2");editor.user.signIn(false).then(function(e){editor.user.updateUser()},function(e){console.log("User not logged in. "+(e==undef?"":e))})}})}}